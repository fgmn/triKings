
clear
a = [-1 -2 0; -1 0 0]; b = [-1; 0];
[x, y] = ga(@obj, 3, a, b, [], [], [], [], @constr);  % 调用遗传算法函数
x, y = -y
   
% 1.适应度函数
function y = obj(x)  % x为行向量
    c1 = [2 3 1]; c2 = [3 1 0];
    y = c1 * x' + c2 * x'.^2;
    y = -y;
end

% 2.非线性约束函数
function [f, g] = constr(x)
    f = [x(1) + 2 * x(1)^2 + x(2) + 2 * x(2)^2 + x(3) - 10
       x(1) + x(1)^2 + x(2) + x(2)^2 - x(3) - 50
       2 * x(1) + x(1)^2 + 2 * x(2) + x(3) - 40];
    g = x(1)^2 + x(3) - 2;
end


